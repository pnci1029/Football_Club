# 🗺️ 팀 지도 상호작용 기능 개발 워크플랜

## 📋 프로젝트 개요
- **목표**: 지도에서 팀 클릭 시 다양한 상호작용 기능 제공
- **현재 상태**: 기본 팀 정보 표시 + 팀 페이지 이동만 가능
- **목표 완료일**: TBD
- **담당**: 개발팀

---

## 🎯 핵심 기능 요구사항

### 1️⃣ 팀 상세정보 확장 📊
**목표**: 팀에 대한 풍부한 정보 제공

#### 기능 상세
- [x] ~~팀 기본정보 (이름, 설명, 로고)~~ ✅ 완료
- [ ] 팀 활동 통계 (경기 횟수, 승률, 최근 활동)
- [ ] 최근 경기 결과 3개 표시
- [ ] 팀 레벨/실력 등급 표시 (초급/중급/상급)
- [ ] 주요 활동 시간/요일 정보
- [ ] 팀 멤버 수 실시간 표시
- [ ] 팀 대표 이미지/갤러리

#### 기술 요구사항
```
- Backend: 팀 통계 집계 API 개발
- Frontend: 확장된 정보 표시 UI
- Database: 팀 통계 테이블 설계
```

#### 예상 작업 시간: **8시간**

---

### 2️⃣ 즉시 연결 기능 ⚡
**목표**: 원클릭으로 팀과 연결

#### 기능 상세
- [ ] 📞 전화 걸기 (tel: 프로토콜 활용)
- [ ] 💬 카카오톡 오픈채팅 링크 연결
- [ ] 📧 이메일 보내기 (mailto: 프로토콜)
- [ ] 📱 팀 SNS 계정 연결 (인스타그램, 페이스북)
- [ ] 📱 카카오톡 공유하기 API 연동

#### 기술 요구사항
```
- Frontend: 각종 프로토콜 링크 구현
- Backend: 팀 연락처 정보 API 확장
- Database: 팀 소셜 정보 컬럼 추가
```

#### 예상 작업 시간: **6시간**

---

### 3️⃣ 경기 관련 기능 ⚽
**목표**: 즉석에서 경기 신청 및 관련 정보 확인

#### 기능 상세
- [ ] 🎯 경기 신청하기 모달
  - 희망 날짜/시간 선택
  - 경기 형태 선택 (11vs11, 풋살 등)
  - 메시지 첨부 기능
- [ ] 📅 팀 일정 확인하기
- [ ] 🏆 과거 경기 기록 보기 (최근 5경기)
- [ ] ⭐ 팀 평점/리뷰 시스템
- [ ] 💰 예상 경기 비용 정보

#### 기술 요구사항
```
- Backend: 경기 신청 API 개발
- Frontend: 경기 신청 폼/모달 구현
- Database: 경기 신청 테이블 설계
- Notification: 경기 신청 알림 시스템
```

#### 예상 작업 시간: **12시간**

---

### 4️⃣ 소셜 기능 🌐
**목표**: 팀 북마크, 공유, 팔로우 기능

#### 기능 상세
- [ ] ❤️ 팀 즐겨찾기/관심팀 등록
  - 로컬 스토리지 기반 즐겨찾기
  - 즐겨찾기 팀 목록 페이지
- [ ] 📤 팀 정보 공유하기
  - 카카오톡 공유
  - 링크 복사
  - SNS 공유 (인스타그램, 페이스북)
- [ ] 👥 팀 팔로우 기능 (로그인 사용자 대상)
- [ ] 📊 팀 비교하기 (우리팀 vs 상대팀)
- [ ] 🔔 팀 활동 알림 설정

#### 기술 요구사항
```
- Frontend: 즐겨찾기 로직 구현
- Backend: 소셜 공유용 메타데이터 API
- Storage: 로컬 스토리지 관리
- APIs: 각종 소셜 플랫폼 공유 API
```

#### 예상 작업 시간: **10시간**

---

### 5️⃣ 편의 기능 🛠️
**목표**: 사용자 편의성 향상

#### 기능 상세
- [x] ~~🗺️ 구장까지 길찾기~~ ✅ 완료
- [ ] 🚗 주차 정보 표시
- [ ] 🏪 주변 편의시설 정보 (카페, 식당, 편의점)
- [ ] 📸 팀/구장 사진 갤러리
- [ ] 💰 예상 비용 계산기 (구장비, 교통비 등)
- [ ] 🌤️ 해당 지역 날씨 정보
- [ ] 📍 최근 본 팀 기록

#### 기술 요구사항
```
- APIs: 날씨 API, 지도 API 연동
- Frontend: 편의기능 UI 구현
- Backend: 주변 시설 데이터 관리
```

#### 예상 작업 시간: **8시간**

---

## 📱 새로운 모달 디자인 구조

### 탭 기반 구조
```
┌─────────────────────────────────────┐
│ [X]          반디 FC                │
├─────────────────────────────────────┤
│ [정보] [경기] [연결] [기타]          │
├─────────────────────────────────────┤
│                                     │
│          탭별 콘텐츠 영역            │
│                                     │
└─────────────────────────────────────┘
```

### 1) 정보 탭
- 팀 기본 정보
- 활동 통계  
- 멤버 정보
- 최근 경기 결과

### 2) 경기 탭  
- 경기 신청하기
- 팀 일정 확인
- 과거 기록
- 평점/리뷰

### 3) 연결 탭
- 전화/연락처
- SNS 링크
- 이메일 발송
- 카카오톡 연결

### 4) 기타 탭
- 즐겨찾기
- 공유하기
- 편의정보
- 주변 시설

---

## 🏗️ 기술적 구현 계획

### Backend API 확장
```kotlin
// 새로운 엔드포인트들
- GET /api/v1/teams/{id}/stats - 팀 통계 정보
- POST /api/v1/teams/{id}/match-request - 경기 신청
- GET /api/v1/teams/{id}/schedule - 팀 일정
- GET /api/v1/teams/{id}/reviews - 팀 리뷰
- POST /api/v1/teams/{id}/favorite - 즐겨찾기 추가
```

### Frontend 컴포넌트 구조
```
components/
├── map/
│   ├── EnhancedStadiumModal.tsx (새로운 확장 모달)
│   ├── tabs/
│   │   ├── TeamInfoTab.tsx
│   │   ├── MatchTab.tsx  
│   │   ├── ContactTab.tsx
│   │   └── UtilityTab.tsx
│   └── modals/
│       ├── MatchRequestModal.tsx
│       └── TeamGalleryModal.tsx
```

### Database 스키마 확장
```sql
-- 팀 소셜 정보 테이블
CREATE TABLE team_social_info (
    team_id BIGINT PRIMARY KEY,
    phone_number VARCHAR(20),
    kakao_chat_url VARCHAR(500),
    email VARCHAR(100),
    instagram_url VARCHAR(500),
    facebook_url VARCHAR(500)
);

-- 경기 신청 테이블  
CREATE TABLE match_requests (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    from_team_id BIGINT,
    to_team_id BIGINT,
    requested_date DATETIME,
    match_type VARCHAR(50),
    message TEXT,
    status ENUM('PENDING', 'ACCEPTED', 'REJECTED'),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## ⏰ 개발 일정 계획

### Phase 1: 기본 확장 (1주)
- [x] ~~기본 지도 기능~~ ✅ 완료
- [ ] 팀 상세정보 확장
- [ ] 즉시 연결 기능

### Phase 2: 핵심 기능 (2주)  
- [ ] 경기 신청 기능
- [ ] 팀 평점/리뷰 시스템
- [ ] 소셜 기능 (즐겨찾기, 공유)

### Phase 3: 편의 기능 (1주)
- [ ] 주변 편의시설 정보
- [ ] 사진 갤러리
- [ ] 고급 필터링

### Phase 4: 최적화 & 테스트 (1주)
- [ ] 성능 최적화
- [ ] 모바일 최적화  
- [ ] 사용자 테스트 및 버그 수정

---

## 📊 성공 지표

### 정량적 지표
- [ ] 팀 상세 모달 오픈율 > 60%
- [ ] 경기 신청 전환율 > 15%  
- [ ] 즐겨찾기 사용률 > 30%
- [ ] 모달 이탈률 < 40%

### 정성적 지표
- [ ] 사용자 피드백 점수 > 4.0/5.0
- [ ] 팀 연결 성공 사례 증가
- [ ] 플랫폼 재방문률 향상

---

## 🚨 리스크 & 대응방안

### 기술적 리스크
- **API 응답 속도 저하**: 캐싱 전략 수립
- **모바일 성능 이슈**: 지연 로딩 적용
- **외부 API 의존성**: Fallback 옵션 준비

### 비즈니스 리스크  
- **사용자 채택률 저조**: A/B 테스트로 최적화
- **스팸 경기 신청**: 신청 제한 로직 구현
- **개인정보 이슈**: 연락처 노출 수준 조절

---

## 📝 다음 단계

1. **팀 논의**: 기능 우선순위 재검토
2. **디자인 시안**: UI/UX 디자인 작업  
3. **기술 검증**: API 설계 및 프로토타입
4. **개발 시작**: Phase 1 부터 순차 진행

---

*마지막 업데이트: 2024-12-08*
*작성자: 개발팀*